@startuml "ActivityDiagram_Simplified"
title Activity Diagram: OIDC Authorization Code Flow (Simplified)

|Користувач|
start
:Ініціює логін;

|Клієнт|
:Формування запиту\nавторизації;
:Перенаправлення\nна сервер авторизації;

|Сервер авторизації|
:Відображення сторінки входу;

|Користувач|
:Введення\nоблікових даних;

|Сервер авторизації|
:Перевірка облікових даних;

if (Дані валідні?) then (так)
  :Створення сесії;
  :Генерація коду авторизації;
  :Редирект на клієнт з кодом;
else (ні)
  :Помилка автентифікації;
  stop
endif

|Клієнт|
:Обмін коду на токени;

|Сервер авторизації|
:Генерація JWT токенів;
:Повернення токенів;

|Клієнт|
:Створення локальної\nсесії;

|Користувач|
:Доступ до\nзахищених ресурсів;
stop
@enduml
